<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>FoodFast ‚Äì Customer</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

    <style>
        body {
            font-family: "Segoe UI", sans-serif;
            background: #f8f9fa;
            overflow-x: hidden;
        }

        /* SIDEBAR */
        #sidebar {
            width: 240px;
            height: 100vh;
            background: #ffffff;
            position: fixed;
            left: 0;
            top: 0;
            border-right: 1px solid #e5e7eb;
            padding-top: 20px;
            box-shadow: 2px 0 10px rgba(0,0,0,0.05);
        }

        #sidebar h4 {
            padding-left: 20px;
            font-weight: 700;
            margin-bottom: 20px;
            color: #0d6efd;
        }

        #sidebar .nav-link {
            color: #6c757d;
            padding: 12px 20px;
            font-size: 16px;
            display: block;
            transition: 0.25s;
            border-radius: 6px;
            margin: 6px 12px;
        }

        #sidebar .nav-link:hover {
            background: #e7f1ff;
            color: #0d6efd;
        }

        #sidebar .nav-link.active {
            background: #0d6efd;
            color: #fff;
        }

        /* MAIN CONTENT */
        #main {
            margin-left: 245px;
            padding: 25px;
        }

        #content {
            background: #ffffff;
            padding: 25px;
            border-radius: 12px;
            min-height: 600px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.06);
        }

        .loading {
            text-align: center;
            padding: 50px;
            color: #6c757d;
        }
    </style>

</head>
<body>

<!-- SIDEBAR -->
<div id="sidebar">
    <h4><i class="bi bi-cart4"></i> FoodFast</h4>

    <a class="nav-link active" data-page="home" onclick="loadPage('home')">
        <i class="bi bi-house-door"></i> Trang ch·ªß
    </a>

    <a class="nav-link" data-page="menu" onclick="loadPage('menu')">
        <i class="bi bi-menu-button-wide"></i> Menu m√≥n ƒÉn
    </a>

    <a class="nav-link" data-page="cart" onclick="loadPage('cart')">
        <i class="bi bi-cart"></i> Gi·ªè h√†ng
    </a>

    <a class="nav-link" data-page="checkout" onclick="loadPage('checkout')">
        <i class="bi bi-credit-card"></i> Thanh to√°n
    </a>

    <a class="nav-link" data-page="orders" onclick="loadPage('orders')">
        <i class="bi bi-bag-check"></i> ƒê∆°n h√†ng
    </a>

    <a class="nav-link" data-page="payments" onclick="loadPage('payments')">
        <i class="bi bi-wallet2"></i> L·ªãch s·ª≠ thanh to√°n
    </a>

    <a class="nav-link" data-page="feedback" onclick="loadPage('feedback')">
        <i class="bi bi-star"></i> ƒê√°nh gi√°
    </a>

    <a class="nav-link" data-page="profile" onclick="loadPage('profile')">
        <i class="bi bi-person"></i> H·ªì s∆°
    </a>
</div>

<!-- MAIN -->
<div id="main">

    <div id="content">
        üîÑ ƒêang t·∫£i giao di·ªán...
    </div>

</div>

<script>
    window.apiBase = "http://localhost:8080/api";

    async function loadPage(pageName) {

        // Active menu
        document.querySelectorAll("#sidebar .nav-link").forEach(a => a.classList.remove("active"));
        document.querySelector(`#sidebar .nav-link[data-page="${pageName}"]`).classList.add("active");

        // Show loading
        document.getElementById("content").innerHTML = `
            <div class="loading">
                <div class="spinner-border text-primary mb-3" role="status"></div>
                <p>ƒêang t·∫£i ${pageName}...</p>
            </div>
        `;

        try {
            let response = await fetch(`/customer/page?name=${pageName}`);
            let html = await response.text();

            document.getElementById("content").innerHTML = html;
        }
        catch (e) {
            document.getElementById("content").innerHTML =
                `<div class="alert alert-danger">‚ö† Kh√¥ng th·ªÉ load page: ${pageName}</div>`;
        }
    }

    // Load default page
    loadPage("home");
</script>

</body>
</html>
